{% extends "modeladmin/index.html" %}
{% load i18n staticfiles modeladmin_tags %}


{% block result_list %}
    <div class="nice-padding block_container">
        {% if all_count %}
            <!-- Replace this function with a class specific one to avoid useless requests. -->
            {% for segment in object_list %}
                <a href="edit/{{ segment.pk }}"><div class="block_container--block">
                    <h2>{{ segment }}</h2>
                    <ul class="block--actions">
                        <li><a href="delete/{{ segment.pk }}">delete</a></li>
                        <li><a href="edit/{{ segment.pk }}">configure this</a></li>
                    </ul>
                </div></a>
            {% endfor %}
        {% endif %}

        {% if user_can_create %}
            {% blocktrans with url=view.create_url name=view.verbose_name %}
                <a href="{{ url }}"><div class="block_container--block suggestion">
                    <span class="suggestive_text">Add a new {{name}}</span>
                </div></a>
            {% endblocktrans %}
        {% endif %}
    </div>
{% endblock %}

{% block pagination %}
    {% if paginator.num_pages > 1 %}
    <div class="pagination {% if view.has_filters and all_count %}col9{% else %}col12{% endif %}">
        <p>{% blocktrans with page_obj.number as current_page and paginator.num_pages as num_pages %}Page {{ current_page }} of {{ num_pages }}.{% endblocktrans %}</p>
        <ul>
            {% pagination_link_previous page_obj view %}
            {% pagination_link_next page_obj view %}
        </ul>
    </div>
    {% endif %}
{% endblock %}
